<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GameOverScreen.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">gdx-2dgame</a> &gt; <a href="index.source.html" class="el_package">inf112.core.app.View.MenuScreens</a> &gt; <span class="el_source">GameOverScreen.java</span></div><h1>GameOverScreen.java</h1><pre class="source lang-java linenums">package inf112.core.app.View.MenuScreens;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.Screen;
import com.badlogic.gdx.graphics.GL20;
import com.badlogic.gdx.graphics.g2d.Batch;
import com.badlogic.gdx.scenes.scene2d.InputEvent;
import com.badlogic.gdx.scenes.scene2d.ui.Label;
import com.badlogic.gdx.scenes.scene2d.ui.Table;
import com.badlogic.gdx.scenes.scene2d.ui.TextButton;
import com.badlogic.gdx.scenes.scene2d.utils.ClickListener;
import inf112.core.app.MainGame;
import inf112.core.app.Helper.IAudio;
import inf112.core.app.Helper.ILevelManager;
import inf112.core.app.View.GameScreens.Hud;
import inf112.core.app.View.GameScreens.IHud;
import inf112.core.app.View.GameScreens.StageIntroScreen;

/**
 * The Class GameOverScreen.
 */
public class GameOverScreen extends AbstractScreen implements Screen {
    // Width and height to fit fonts to screen.
	static final int WIDTH = 900;
	static final int HEIGHT = 900;
	
	// Fields related to table
	private Table table;
	private TextButton retryButton;
	private TextButton exitButton;
	private ILevelManager levels;
	private IHud hud;
	private IAudio audio;
	
	/**
	 * Instantiates a new game over screen.
	 *
	 * @param game the game
	 * @param batch the batch
	 * @param levels the levels
	 * @param hud the hud
	 * @param audio the audio
	 */
	public GameOverScreen(MainGame game, Batch batch, ILevelManager levels, IHud hud, IAudio audio) {		
<span class="fc" id="L45">		super(game, batch, WIDTH, HEIGHT);</span>
<span class="fc" id="L46">		this.levels = levels;</span>
<span class="fc" id="L47">		this.hud = hud;</span>
<span class="fc" id="L48">		this.audio = audio;</span>
		
<span class="fc" id="L50">		setupTable();</span>
<span class="fc" id="L51">	}</span>
	
	@Override
	public void show() {		
	    // Let stage control user input.
<span class="nc" id="L56">    	Gdx.input.setInputProcessor(stage);</span>
        
        //Add table to stage
<span class="nc" id="L59">        stage.addActor(table);</span>

        // Render stage. 
<span class="nc" id="L62">        stage.act();</span>
<span class="nc" id="L63">        stage.draw();         </span>
<span class="nc" id="L64">	}</span>

	/**
	 * Setup table.
	 */
	protected void setupTable() {
		// New table to fill with buttons
<span class="fc" id="L71">    	table = new Table();</span>
        
    	// Adjust table.
<span class="fc" id="L74">    	table.setFillParent(true);</span>
    		
    	// Add instruction labels to table
<span class="fc" id="L77">        Label instruction1 = new Label(&quot; YOU ARE DEAD ! &quot;, skin, &quot;big&quot;);</span>
<span class="fc" id="L78">        Label instruction2 = new Label(&quot; &quot;, skin);</span>
<span class="fc" id="L79">        Label instruction3 = new Label(&quot; GAME OVER ! &quot;, skin, &quot;big&quot;);</span>
<span class="fc" id="L80">        Label instruction4 = new Label(&quot; &quot;, skin);</span>
<span class="fc" id="L81">        Label instruction5 = new Label(String.format(&quot;CURRENT SCORE / HIGH SCORE&quot;), skin, &quot;big&quot;);</span>
<span class="fc" id="L82">        Label instruction6 = new Label(&quot; &quot;, skin);</span>
<span class="fc" id="L83">        Label instruction7 = new Label(String.format(&quot;%d / %d&quot;, hud.getScore(), this.game.getSettings().getHighScore()), skin, &quot;big&quot;);</span>
<span class="fc" id="L84">        Label instruction8 = new Label(&quot; &quot;, skin);</span>
        
        // Add labels to the table
<span class="fc" id="L87">        table.add(instruction1).expandX().pad(1).row(); // Add instruction1 with padding</span>
<span class="fc" id="L88">        table.add(instruction2).expandX().pad(1).row(); // Add instruction2 with padding</span>
<span class="fc" id="L89">        table.add(instruction3).expandX().pad(1).row(); // Add instruction3 with padding</span>
<span class="fc" id="L90">        table.add(instruction4).expandX().pad(1).row(); // Add instruction3 with padding</span>
<span class="fc" id="L91">        table.add(instruction5).expandX().pad(1).row(); // Add instruction3 with padding</span>
<span class="fc" id="L92">        table.add(instruction6).expandX().pad(1).row(); // Add instruction3 with padding</span>
<span class="fc" id="L93">        table.add(instruction7).expandX().pad(1).row(); // Add instruction3 with padding</span>
<span class="fc" id="L94">        table.add(instruction8).expandX().pad(1).row(); // Add instruction3 with padding</span>
              
        // Add back button
<span class="fc" id="L97">    	retryButton = new TextButton(&quot;Retry&quot;, skin); </span>
<span class="fc" id="L98">    	exitButton = new TextButton(&quot;Exit to main menu&quot;, skin); </span>
  
<span class="fc" id="L100">        table.add(retryButton).expandX().pad(10); // Add the back button with padding</span>
<span class="fc" id="L101">        table.row().pad(10,0,0,10);</span>
<span class="fc" id="L102">        table.add(exitButton).expandX().pad(10); // Add the back button with padding   </span>
        
    	// Add listeners to exit button.
<span class="fc" id="L105">    	retryButton.addListener(new ClickListener(){</span>
            @Override
            public void clicked(InputEvent event, float x, float y) {
<span class="nc" id="L108">          		game.setScreen(new StageIntroScreen(game, batch, levels, new Hud(batch, 1), audio));</span>
<span class="nc" id="L109">          	    Gdx.app.log(&quot;GG-Clone&quot;, &quot;retry clicked.&quot;);</span>
<span class="nc" id="L110">            }</span>
            });        	

    	// Add listeners to exit button.
<span class="fc" id="L114">    	exitButton.addListener(new ClickListener(){</span>
            @Override
            public void clicked(InputEvent event, float x, float y) {
<span class="nc" id="L117">          		game.setScreen(new MainScreen(game, batch, levels, new Hud(batch, 1), audio));</span>
<span class="nc" id="L118">          	    Gdx.app.log(&quot;GG-Clone&quot;, &quot;exit to main menu clicked.&quot;);</span>
<span class="nc" id="L119">            }</span>
            });
<span class="fc" id="L121">	}</span>

	@Override
	public void render(float delta) {
		  // Clear screen
<span class="nc" id="L126">	      Gdx.gl.glClearColor(0, 0, 0, 0);</span>
<span class="nc" id="L127">	      Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);</span>
	      
	      // Render stage
<span class="nc" id="L130">	      stage.act();</span>
<span class="nc" id="L131">	      stage.draw();</span>
<span class="nc" id="L132">	}</span>

	@Override
	public void resize(int width, int height) {
		  // Resize event
<span class="fc" id="L137">	      viewport.update(width,height);</span>
<span class="fc" id="L138">	      cam.position.set(cam.viewportWidth/2,cam.viewportHeight/2,0);</span>
<span class="fc" id="L139">		  cam.update();</span>
<span class="fc" id="L140">	}</span>

	@Override
	public void pause() {
		// TODO Auto-generated method stub
<span class="fc" id="L145">	}</span>

	@Override
	public void resume() {
		// TODO Auto-generated method stub
<span class="fc" id="L150">	}</span>

	@Override
	public void hide() {
		// TODO Auto-generated method stub
<span class="fc" id="L155">	}</span>

	@Override
	public void dispose() {
		// Dispose of skin and atlas.
<span class="fc" id="L160">        skin.dispose();</span>
<span class="fc" id="L161">        atlas.dispose();</span>
<span class="fc" id="L162">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>