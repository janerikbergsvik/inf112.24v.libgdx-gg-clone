<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MainScreen.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">gdx-2dgame</a> &gt; <a href="index.source.html" class="el_package">inf112.core.app.View.MenuScreens</a> &gt; <span class="el_source">MainScreen.java</span></div><h1>MainScreen.java</h1><pre class="source lang-java linenums">package inf112.core.app.View.MenuScreens;

import java.util.ArrayList;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.Screen;
import com.badlogic.gdx.graphics.Cursor.SystemCursor;
import com.badlogic.gdx.graphics.GL20;
import com.badlogic.gdx.graphics.g2d.Batch;
import com.badlogic.gdx.scenes.scene2d.InputEvent;
import com.badlogic.gdx.scenes.scene2d.ui.Image;
import com.badlogic.gdx.scenes.scene2d.ui.Label;
import com.badlogic.gdx.scenes.scene2d.ui.Table;
import com.badlogic.gdx.scenes.scene2d.ui.TextButton;
import com.badlogic.gdx.scenes.scene2d.utils.ClickListener;
import com.badlogic.gdx.utils.Align;

import inf112.core.app.MainGame;
import inf112.core.app.Helper.GameLabelStyler;
import inf112.core.app.Helper.IAudio;
import inf112.core.app.Helper.ILevelManager;
import inf112.core.app.View.GameScreens.IHud;
import inf112.core.app.View.GameScreens.StageIntroScreen;


/**
 * The Class MainScreen.
 */
public class MainScreen extends AbstractScreen implements Screen{  
    // Width and height to fit fonts to screen.
	static final int WIDTH = 900;
	static final int HEIGHT = 900;

	/**
	 * The Enum setScreen.
	 */
<span class="fc" id="L37">	public enum setScreen {</span>
<span class="fc" id="L38">	    NEW_GAME,</span>
<span class="fc" id="L39">	    OPTIONS,</span>
<span class="fc" id="L40">	    HELP,</span>
<span class="fc" id="L41">	    CREDITS,</span>
<span class="fc" id="L42">	    EXIT</span>
	}

	// Table
	private Table table;
	
	// Level, hud and audio.
	private ILevelManager levels;
	private IHud hud;
	private IAudio audio;
	
	/**
	 * Instantiates a new main screen.
	 *
	 * @param game the game
	 * @param batch the batch
	 * @param levels the levels
	 * @param hud the hud
	 * @param audio the audio
	 */
	public MainScreen(MainGame game, Batch batch, ILevelManager levels, IHud hud, IAudio audio) {
<span class="fc" id="L63">		super(game, batch, WIDTH, HEIGHT);</span>
<span class="fc" id="L64">		this.levels = levels;</span>
<span class="fc" id="L65">		this.hud = hud;</span>
<span class="fc" id="L66">		this.audio = audio;		</span>
		
<span class="fc" id="L68">		audio.startMusic();</span>
<span class="fc" id="L69">        setupTable();</span>
<span class="fc" id="L70">	}</span>
	
	@Override
	public void show() {
		// Let stage control user input.
<span class="nc" id="L75">    	Gdx.input.setInputProcessor(stage);</span>
    	
	    //Add table to stage
<span class="nc" id="L78">        stage.addActor(table);</span>
        
        // Render stage. 
<span class="nc" id="L81">        stage.act();</span>
<span class="nc" id="L82">        stage.draw();         </span>
<span class="nc" id="L83">	}</span>

	/**
	 * Setup table.
	 */
	protected void setupTable() {
		// New table to fill with buttons
<span class="fc" id="L90">    	table = new Table();</span>
        
    	// Adjust table.
<span class="fc" id="L93">    	table.setFillParent(true);</span>

        // Create buttons &amp; screens
<span class="fc" id="L96">        ArrayList&lt;TextButton&gt; buttons = new ArrayList&lt;&gt;();</span>
        
        // Add buttons to table
<span class="fc" id="L99">        buttons.add(new TextButton(&quot;New game&quot;, skin));</span>
<span class="fc" id="L100">        buttons.add(new TextButton(&quot;Options&quot;, skin));</span>
<span class="fc" id="L101">        buttons.add(new TextButton(&quot;Help&quot;, skin));</span>
<span class="fc" id="L102">		buttons.add(new TextButton(&quot;Credits&quot;, skin));</span>
<span class="fc" id="L103">        buttons.add(new TextButton(&quot;Exit&quot;, skin));</span>
		
<span class="fc" id="L105">        table.row().pad(5).fillX().center();</span>
<span class="fc" id="L106">        table.add(new Image(new Texture(Gdx.files.internal(&quot;textures/gametitle00.png&quot;)))).pad(30);</span>
<span class="fc" id="L107">        table.top();</span>
<span class="fc" id="L108">        table.row();</span>
<span class="fc bfc" id="L109" title="All 2 branches covered.">        for (TextButton button : buttons) {</span>
<span class="fc" id="L110">        	table.add(button);</span>
<span class="fc" id="L111">            table.row();</span>
<span class="fc" id="L112">        }</span>
        
        // Get great Giana Sisters TrueType font.
<span class="fc" id="L115">        Label.LabelStyle labelStyle = GameLabelStyler.getLabelStyle(&quot;truetypefonts/giana/Giana.ttf&quot;, 30, 96, 173, 219);</span>
        
<span class="fc" id="L117">        Label label1 = new Label(&quot; &quot;,labelStyle);</span>
<span class="fc" id="L118">	    Label label2 = new Label(&quot;Â© DIGI-TEAMET 2024&quot;,labelStyle);</span>
<span class="fc" id="L119">	    label2.setAlignment(Align.center);</span>
<span class="fc" id="L120">	    table.row();				</span>
<span class="fc" id="L121">		table.add(label1);</span>
<span class="fc" id="L122">		table.row();				</span>
<span class="fc" id="L123">		table.add(label2);</span>
    	
        // Add listeners to buttons.
<span class="fc" id="L126">		mouseTracker(buttons.get(0), setScreen.NEW_GAME);</span>
<span class="fc" id="L127">		mouseTracker(buttons.get(1), setScreen.OPTIONS);</span>
<span class="fc" id="L128">		mouseTracker(buttons.get(2), setScreen.HELP);</span>
<span class="fc" id="L129">		mouseTracker(buttons.get(3), setScreen.CREDITS);</span>
<span class="fc" id="L130">		mouseTracker(buttons.get(4), setScreen.EXIT);</span>
<span class="fc" id="L131">	}</span>

	/**
	 * Mouse tracker.
	 *
	 * @param button the button
	 * @param type the type
	 */
	private void mouseTracker(TextButton button, setScreen type){
<span class="fc" id="L140">            button.addListener(new ClickListener() {</span>
                @Override
                public void clicked(InputEvent event, float x, float y) {
                    // Redirect to main screen
<span class="nc" id="L144">                    Gdx.graphics.setSystemCursor(SystemCursor.Arrow);</span>
                    
<span class="nc bnc" id="L146" title="All 6 branches missed.">					switch(type) {</span>
						case NEW_GAME:
<span class="nc" id="L148">							game.setScreen(new StageIntroScreen(game, batch, levels, hud, audio));</span>
<span class="nc" id="L149">							Gdx.app.log(&quot;GG-Clone&quot;, &quot;new game clicked.&quot;);</span>
<span class="nc" id="L150">							break;</span>
						case OPTIONS:
<span class="nc" id="L152">							game.setScreen(new OptionsScreen(game, batch, levels, hud, audio));</span>
<span class="nc" id="L153">							Gdx.app.log(&quot;GG-Clone&quot;, &quot;options clicked.&quot;);</span>
<span class="nc" id="L154">							break;</span>
						case HELP:
<span class="nc" id="L156">							game.setScreen(new HelpScreen(game, batch, levels, hud, audio));</span>
<span class="nc" id="L157">        					Gdx.app.log(&quot;GG-Clone&quot;, &quot;help clicked.&quot;);</span>
<span class="nc" id="L158">							break;</span>
						case CREDITS:
<span class="nc" id="L160">							game.setScreen(new CreditsScreen(game, batch, levels, hud, audio));</span>
<span class="nc" id="L161">							Gdx.app.log(&quot;GG-Clone&quot;, &quot;Credits clicked.&quot;);</span>
<span class="nc" id="L162">							break;</span>
						case EXIT:
<span class="nc" id="L164">							Gdx.app.log(&quot;GG-Clone&quot;, &quot;exit clicked.&quot;);</span>
<span class="nc" id="L165">                			Gdx.app.exit();</span>
<span class="nc" id="L166">							break;</span>

						default:
<span class="nc" id="L169">						System.out.println(&quot;Nothing clicked&quot;);</span>
					}
<span class="nc" id="L171">            }</span>
            });
<span class="fc" id="L173">        }</span>

	@Override
	public void render(float delta) {
		  // Clear screen
<span class="nc" id="L178">	      Gdx.gl.glClearColor(0, 0, 0, 0);</span>
<span class="nc" id="L179">	      Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);</span>
	      
	      // Render stage
<span class="nc" id="L182">	      stage.act();</span>
<span class="nc" id="L183">	      stage.draw();</span>
<span class="nc" id="L184">	}</span>

	@Override
	public void resize(int width, int height) {
		  // Resize event
<span class="fc" id="L189">	      viewport.update(width,height);</span>
<span class="fc" id="L190">	      cam.position.set(cam.viewportWidth/2,cam.viewportHeight/2,0);</span>
<span class="fc" id="L191">		  cam.update();</span>
<span class="fc" id="L192">	}</span>

	@Override
	public void pause() {
		// TODO Auto-generated method stub
<span class="fc" id="L197">	}</span>

	@Override
	public void resume() {
		// TODO Auto-generated method stub
<span class="fc" id="L202">	}</span>

	@Override
	public void hide() {
		// TODO Auto-generated method stub
<span class="fc" id="L207">	}</span>

	@Override
	public void dispose() {
		// Dispose of skin and atlas.
<span class="fc" id="L212">        skin.dispose();</span>
<span class="fc" id="L213">        atlas.dispose();</span>
<span class="fc" id="L214">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>